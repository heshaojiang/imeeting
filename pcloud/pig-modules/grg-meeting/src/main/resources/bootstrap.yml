server:
  port: 4040

server.https.port: 4043
spring:
  application:
    name: grg-meeting
  profiles:
    active: dev
  cloud:
    config:
      fail-fast: true
      discovery:
        service-id: pig-config-server
        enabled: true
      profile: dev
      label: ${spring.profiles.active}

  redis:
     database: 0
     host: imeeting-redis
     port: 6379
     password:
     timeout: 0
     pool:
         max-active: 8
         max-wait: -1
         max-idle: 8
         min-idle: 0
  session:
    store-type: none
  http:
    multipart:
      max-file-size: 50MB
      max-request-size: 50MB
      enabled: true
logging:
  config: file:./config/logback/logback_meeting.xml
---
spring:
  profiles: dev
eureka:
  instance:
    lease-renewal-interval-in-seconds: 3
    lease-expiration-duration-in-seconds: 7
    prefer-ip-address: true
    metadata-map:
      zone: zone-1
  client:
    register-with-eureka: true
    fetch-registry: true
    registry-fetch-interval-seconds: 5 #定时的向Eureka确认，刷新自己的可用的服务列表，修改为5s，从服务失效到客户端发现最多7+5=12s
    prefer-same-zone-eureka: true
    #地区
    region: guangzhou
    availability-zones:
      guangzhou: zone-1 #,zone-2
    service-url:
      zone-1: http://imeeting:imeeting123@imeeting-eureka:4010/eureka

---
spring:
  profiles: prd
eureka:
  instance:
    prefer-ip-address: true
  client:
    serviceUrl:
      defaultZone: http://imeeting:imeeting123@imeeting-eureka:4010/eureka

---
spring:
  profiles: moreService
eureka:
  instance:
    lease-renewal-interval-in-seconds: 3
    lease-expiration-duration-in-seconds: 7
    prefer-ip-address: true
    metadata-map:
      zone: zone-1
  client:
    register-with-eureka: true
    fetch-registry: true
    registry-fetch-interval-seconds: 5 #定时的向Eureka确认，刷新自己的可用的服务列表，修改为5s，从服务失效到客户端发现最多7+5=12s
    prefer-same-zone-eureka: true
    #地区
    region: guangzhou
    availability-zones:
      guangzhou: zone-1 #,zone-2
    service-url:
      zone-2: http://imeeting:imeeting123@imeeting-eureka:4010/eureka
      #zone-2: http://imeeting:imeeting123@localhost:5010/eureka
